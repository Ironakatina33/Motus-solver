<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Motus Lab</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="shell">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="sidebar-logo">
        <div class="sidebar-icon">M</div>
        <div class="sidebar-title">
          <div class="title-main">Motus Lab</div>
          <div class="title-sub">Jeu Â· Solveur Â· Stats</div>
        </div>
      </div>

      <nav class="sidebar-nav">
        <button class="tab-btn active" data-page="pageGame">
          <span class="tab-icon">ğŸ®</span>
          <span class="tab-text">
            <span class="tab-title">Motus</span>
            <span class="tab-sub">Jouer une partie</span>
          </span>
        </button>
        <button class="tab-btn" data-page="pageSolver">
          <span class="tab-icon">ğŸ§ </span>
          <span class="tab-text">
            <span class="tab-title">Solveur</span>
            <span class="tab-sub">Analyser un mot</span>
          </span>
        </button>
        <button class="tab-btn" data-page="pageStats">
          <span class="tab-icon">ğŸ“Š</span>
          <span class="tab-text">
            <span class="tab-title">Stats</span>
            <span class="tab-sub">Historique & sÃ©ries</span>
          </span>
        </button>
      </nav>

      <div class="sidebar-footer">
        <div class="sidebar-pill">
          <span class="pill-dot green"></span> victoire
        </div>
        <div class="sidebar-pill">
          <span class="pill-dot yellow"></span> mal placÃ©
        </div>
        <div class="sidebar-pill">
          <span class="pill-dot grey"></span> absent
        </div>
        <div class="sidebar-dict" id="dictStats">
          Dictionnaire : <strong>0</strong> mots
        </div>
          <button id="musicToggle" class="sidebar-music" type="button">
    ğŸµ Musique : <span id="musicState">off</span>
  </button>
  <audio id="bgMusic" loop src="music.mp3"></audio>

        <div class="sidebar-visits">
  ğŸ‘€ Visites totales : <span id="visitTotal">â€¦</span><br>
  ğŸ§‘â€ğŸ¤â€ğŸ§‘ Visiteurs uniques : <span id="visitUnique">â€¦</span>
</div>

      </div>
    </aside>

    <!-- MAIN AREA -->
    <div class="main">
      <header class="topbar">
        <div class="topbar-left">
          <h1>Atelier Motus</h1>
          <p class="topbar-sub">
            Joue, teste des solutions, et suis ta progression au mÃªme endroit.
          </p>
        </div>
        <div class="topbar-right">
  <label class="topbar-size">
    <span>Taille du mot</span>
    <input type="number" id="wordLength" min="3" max="12" value="7">
  </label>

  <button id="themeToggle" class="btn btn-ghost btn-xs" type="button">
    ğŸŒ™ Mode sombre
  </button>
</div>

      </header>

      <main class="content">

        <!-- PAGE MOTUS -->
        <section id="pageGame" class="page active">
          <div class="layout-two-cols">
            <section class="card card-game">
              <div class="card-header">
                <h2>ğŸ® Partie Motus</h2>
                <button id="newGameBtn" class="btn btn-primary">
                  Nouvelle partie
                </button>
              </div>
              <p class="card-helper">
                Un mot secret est choisi alÃ©atoirement dans le dictionnaire. Tu as
                6 essais. Les parties gagnÃ©es/perdues alimentent automatiquement tes stats.
              </p>

              <div class="game-status-row">
                <span id="gameStatus" class="badge badge-neutral">
                  Aucune partie en cours
                </span>
                <span class="badge badge-soft">
                  Astuce : la taille suit le champ â€œTaille du motâ€.
                </span>
              </div>

              <div id="gameGrid" class="game-grid">
                <div class="game-empty">
                  Clique sur <strong>Nouvelle partie</strong> pour commencer.
                </div>
              </div>

              <div class="game-input-row">
                <input
                  type="text"
                  id="gameGuessInput"
                  placeholder="Tape un mot puis EntrÃ©e ou clique sur Valider"
                  autocomplete="off"
                >
                <button id="gameGuessBtn" class="btn btn-ghost">Valider</button>
              </div>
              <div id="gameMessage" class="game-message"></div>
            </section>

            <section class="card card-tips">
              <h3>Comment jouer ?</h3>
              <ol class="tips-list">
                <li><strong>Lance une partie</strong> avec â€œNouvelle partieâ€.</li>
                <li><strong>Entre un mot complet</strong> puis valide.</li>
                <li>Observe les couleurs :
                  <span class="tag-color tag-green">ğŸŸ© bien placÃ©</span>
                  <span class="tag-color tag-yellow">ğŸŸ¨ mal placÃ©</span>
                  <span class="tag-color tag-grey">â¬› absent</span>
                </li>
                <li>Tu as <strong>6 essais</strong> pour trouver le mot.</li>
              </ol>
              <p class="tips-footer">
                Tu peux ensuite aller dans lâ€™onglet <strong>Solveur</strong> pour
                analyser dâ€™autres grilles (Wordle, Motus, jeux TVâ€¦).
              </p>
            </section>
          </div>
        </section>

        <!-- PAGE SOLVEUR -->
        <section id="pageSolver" class="page">
          <section class="card">
            <div class="card-header">
              <h2>ğŸ§  Solveur</h2>
            </div>
            <p class="card-helper">
              Entre les mots dÃ©jÃ  jouÃ©s dans ton Motus / Wordle, clique sur les lettres
              pour rÃ©gler les couleurs, puis laisse le solveur filtrer les possibilitÃ©s.
            </p>

            <div class="solver-steps">
              <div class="step">
                <div class="step-number">1</div>
                <div class="step-body">
                  <div class="step-title">Dictionnaire & options</div>
                  <div class="step-content">
                    <div class="field-row">
                      <div class="file-input">
                        <label for="dictFile">Ajouter un dictionnaire (.txt)</label><br>
                        <input type="file" id="dictFile" accept=".txt">
                      </div>
                    </div>
                    <div class="field-row">
                      <div style="flex:1">
                        <label for="customDict">Mots personnalisÃ©s (optionnel)</label>
                        <textarea id="customDict" placeholder="Un mot par ligne, ex :
ENIGMES
EPINEUX
ETOILES"></textarea>
                      </div>
                    </div>
                    <p class="info-text">
                      Au dÃ©marrage, les fichiers <code>liste_francais*.txt</code>
                      sont chargÃ©s automatiquement si prÃ©sents Ã  cÃ´tÃ© de la page.
                    </p>
                    <div class="dict-history">
  <div class="dict-history-header">
    <span class="dict-history-title">Derniers mots ajoutÃ©s au dictionnaire</span>
    <button id="clearHistoryBtn" class="btn btn-ghost btn-xs" type="button">
      Vider
    </button>
  </div>
  <div id="dictHistoryList" class="dict-history-list">
    <div class="empty">Aucun mot ajoutÃ© pour lâ€™instant.</div>
  </div>
</div>


                  </div>
                </div>
              </div>

              <div class="step">
                <div class="step-number">2</div>
                <div class="step-body">
                  <div class="step-title">
                    Tentatives dÃ©jÃ  jouÃ©es
                    <button id="addAttemptBtn" class="btn btn-ghost btn-xs">
                      + Ajouter une tentative
                    </button>
                  </div>
                  <p class="info-text">
                    Saisis le mot, puis clique sur chaque case pour passer de
                    â¬› â†’ ğŸŸ¨ â†’ ğŸŸ©.
                  </p>
                  <div id="attemptsContainer" class="attempts-container"></div>
                </div>
              </div>

              <div class="step">
                <div class="step-number">3</div>
                <div class="step-body">
                  <div class="step-title">
                    Calcul des meilleures propositions
                    <button id="solveBtn" class="btn btn-primary btn-xs">
                      Lancer le solveur
                    </button>
                  </div>
                  <div class="results-meta-row">
                    <span id="resultsCount" class="badge badge-neutral">
                      Candidats : 0
                    </span>
                    <span class="badge badge-soft">
                      Score basÃ© sur la frÃ©quence des lettres restantes.
                    </span>
                  </div>

                  <div id="constraintsBox" class="constraints-box">
                    Aucune contrainte : ajoute au moins une tentative.
                  </div>

                  <div id="resultsBox" class="results-box">
                    <div class="empty">
                      âœ Ajoute quelques tentatives puis clique sur â€œLancer le solveurâ€.
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </section>

        <!-- PAGE STATS -->
        <section id="pageStats" class="page">
          <section class="card">
            <div class="card-header stats-header">
              <div>
                <h2>ğŸ“Š Statistiques</h2>
                <p class="card-helper">
                  Les parties de lâ€™onglet Motus sont enregistrÃ©es automatiquement.
                  Tu peux aussi ajouter une partie manuellement si tu joues ailleurs.
                </p>
              </div>
              <div class="stats-actions">
                <button id="markWinBtn" class="btn btn-success btn-xs">
                  + Victoire
                </button>
                <button id="markLossBtn" class="btn btn-danger btn-xs">
                  + DÃ©faite
                </button>
              </div>
            </div>

            <div class="stats-grid">
              <div class="stat-box">
                <div class="stat-label">Parties jouÃ©es</div>
                <div id="statTotal" class="stat-value">0</div>
              </div>
              <div class="stat-box">
                <div class="stat-label">Victoires</div>
                <div id="statWins" class="stat-value">0</div>
              </div>
              <div class="stat-box">
                <div class="stat-label">DÃ©faites</div>
                <div id="statLosses" class="stat-value">0</div>
              </div>
             <div class="stat-box stat-box-winrate">
  <div class="stat-label">Winrate</div>
  <div id="statWinrate" class="stat-value stat-small">0 %</div>
</div>

              <div class="stat-box">
                <div class="stat-label">SÃ©rie actuelle</div>
                <div id="statStreak" class="stat-value">0</div>
              </div>
              <div class="stat-box">
                <div class="stat-label">Meilleure sÃ©rie</div>
                <div id="statBestStreak" class="stat-value">0</div>
              </div>
              <div class="stat-box stat-wide">
                <div class="stat-label">Moyenne dâ€™essais (victoires)</div>
                <div id="statAvgGuesses" class="stat-value stat-small">â€”</div>
              </div>
            </div>

            <div class="stats-split">
              <div class="stats-panel">
                <div class="histogram-title">RÃ©partition des essais</div>
                <div id="histogram" class="histogram"></div>
              </div>
              <div class="stats-panel">
                <div class="history-title-row">
                  <div class="history-title">DerniÃ¨res parties</div>
                  <button id="resetStatsBtn" class="btn btn-ghost btn-xs">
                    RÃ©initialiser
                  </button>
                </div>
                <ul id="historyList" class="history-list"></ul>
              </div>
            </div>
          </section>
        </section>

      </main>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
