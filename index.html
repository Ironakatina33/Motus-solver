<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Solver Motus / Wordle FR</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app">
    <header>
      <div>
        <h1><span class="logo-dot"></span> Solver Motus / Wordle FR</h1>
        <div class="subtitle">
          R√®gle les couleurs, charge un dictionnaire fran√ßais, laisse le solver filtrer,
          proposer les meilleurs mots et garde tes stats de parties.
        </div>
      </div>
      <div class="pill-row">
        <div class="pill">
          <span class="pill-dot" style="background:#22c55e;"></span>
          <span>üü© bien plac√©</span>
        </div>
        <div class="pill">
          <span class="pill-dot" style="background:#eab308;"></span>
          <span>üü® mal plac√©</span>
        </div>
        <div class="pill">
          <span class="pill-dot" style="background:#4b5563;"></span>
          <span>‚¨õ absent</span>
        </div>
      </div>
    </header>

    <main>
      <!-- COLONNE GAUCHE : Dictionnaire + Tentatives -->
      <section class="card">
        <h2>1Ô∏è‚É£ Param√®tres & dictionnaire</h2>
        <div class="hint">
          Choisis la taille du mot et charge un dictionnaire fran√ßais (fichier .txt, un mot par ligne).
        </div>

        <div class="field-row">
          <label for="wordLength">Taille du mot :</label>
          <input type="number" id="wordLength" min="3" max="12" value="7" style="width:70px;">
          <span class="info-text">
            Si tu laisses vide, la taille sera d√©duite automatiquement du premier mot saisi.
          </span>
        </div>

        <div class="field-row">
          <div class="file-input">
            <label for="dictFile">Dictionnaire (.txt) :</label><br>
            <input type="file" id="dictFile" accept=".txt">
          </div>
          <span id="dictStats" class="stat-tag">Mots charg√©s : <strong>0</strong></span>
        </div>

        <div class="field-row" style="align-items:flex-start;">
          <div style="flex:1 1 auto;">
            <label for="customDict">Mots suppl√©mentaires (optionnel) :</label>
            <textarea id="customDict" placeholder="Un mot par ligne, par ex. :
ENIGMES
EPINEUX
ETOILES"></textarea>
          </div>
        </div>

        <div class="info-text">
          Astuce : t√©l√©charge un gros dictionnaire FR (wordlist / Scrabble / etc.), et charge-le ici
          pour avoir ‚Äútous les mots‚Äù.
        </div>

        <hr class="divider">

        <div class="attempts-header">
          <div>
            <div class="title">2Ô∏è‚É£ Tentatives</div>
            <div class="attempts-legend">
              <span class="legend-badge">
                <span class="legend-swatch legend-grey"></span>‚¨õ vide ‚Üí lettre absente
              </span>
              <span class="legend-badge">
                <span class="legend-swatch legend-yellow"></span>üü® clic 1 ‚Üí mauvaise place
              </span>
              <span class="legend-badge">
                <span class="legend-swatch legend-green"></span>üü© clic 2 ‚Üí bien plac√©e
              </span>
            </div>
          </div>
          <div>
            <button id="addAttemptBtn" class="small">
              <span>Ôºã</span>
              <span>Ajouter une tentative</span>
            </button>
          </div>
        </div>

        <div id="attemptsContainer" class="attempts-container"></div>

        <div class="warning-text">
          Ajoute chaque tentative (mot jou√©), clique sur les lettres pour reproduire exactement les
          couleurs de ton Motus / Wordle.
        </div>
      </section>

      <!-- COLONNE DROITE : R√©sultats + Stats -->
      <section class="card right">
        <h2>3Ô∏è‚É£ Suggestions & probabilit√©s</h2>
        <div class="hint">
          Le solver filtre le dictionnaire selon toutes les tentatives et classe les mots restants
          selon un score de ‚Äúqualit√©‚Äù.
        </div>

        <div class="results-header">
          <div class="results-header-title">Meilleurs mots possibles</div>
          <button id="solveBtn">
            <span>üß†</span>
            <span>Calculer les suggestions</span>
          </button>
        </div>

        <div class="results-meta">
          <span id="resultsCount" class="badge-small">Candidats : 0</span>
          <span class="badge-small">
            Score bas√© sur la fr√©quence des lettres parmi les solutions encore possibles.
          </span>
        </div>

        <div id="constraintsBox" class="constraints-box">
          Aucune contrainte pour l‚Äôinstant : ajoute au moins une tentative.
        </div>

        <div id="resultsBox" class="results-box">
          <div class="empty">
            ‚ûú Charge un dictionnaire, ajoute une ou plusieurs tentatives, puis clique sur
            ‚ÄúCalculer les suggestions‚Äù.
          </div>
        </div>

        <div class="info-text">
          Le score n‚Äôest pas une vraie probabilit√© math√©matique, mais un indicateur : plus il est
          √©lev√©, plus le mot couvre de lettres fr√©quentes dans les solutions encore possibles.
        </div>

        <hr class="divider">

        <div class="stats-header">
          <h3>4Ô∏è‚É£ Historique & statistiques locales</h3>
          <div class="stats-actions">
            <button id="markWinBtn" class="small success">
              ‚úÖ Marquer comme victoire
            </button>
            <button id="markLossBtn" class="small danger">
              ‚ùå Marquer comme √©chec
            </button>
          </div>
        </div>

        <div class="stats-grid">
          <div class="stat-box">
            <div class="stat-label">Parties</div>
            <div id="statTotal" class="stat-value">0</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">Victoires</div>
            <div id="statWins" class="stat-value">0</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">D√©faites</div>
            <div id="statLosses" class="stat-value">0</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">Winrate</div>
            <div id="statWinrate" class="stat-value small">
              0 %
            </div>
          </div>
          <div class="stat-box">
            <div class="stat-label">S√©rie actuelle</div>
            <div id="statStreak" class="stat-value">0</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">Meilleure s√©rie</div>
            <div id="statBestStreak" class="stat-value">0</div>
          </div>
          <div class="stat-box wide">
            <div class="stat-label">Moyenne d'essais (victoires)</div>
            <div id="statAvgGuesses" class="stat-value small">‚Äî</div>
          </div>
        </div>

        <div class="histogram-container">
          <div class="histogram-title">R√©partition des essais (victoires uniquement)</div>
          <div id="histogram" class="histogram"></div>
        </div>

        <div class="history-container">
          <div class="history-title-row">
            <div class="history-title">Derni√®res parties</div>
            <button id="resetStatsBtn" class="small secondary danger-soft">
              üîÑ R√©initialiser les stats
            </button>
          </div>
          <ul id="historyList" class="history-list"></ul>
        </div>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
